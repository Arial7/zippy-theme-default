"use strict";document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("button#submit"),t=e.querySelector(".icon"),n=e.querySelector(".loader"),o=document.body.querySelector("input#site-name"),c=document.body.querySelector("input#base-url"),a=document.body.querySelector("select#theme"),i=document.body.querySelector("input#acc-name"),s=document.body.querySelector("input#acc-mail"),u=document.body.querySelector("input#acc-pass"),d=document.body.querySelector("input#acc-pass-confirm"),l=document.body.querySelector("#signup-error");d.addEventListener("input",function(e){e.target.value!==u.value?d.classList.add("invalid"):d.classList.remove("invalid")}),e.addEventListener("click",function(){e.classList.toggle("disabled"),n.classList.toggle("hidden"),t.classList.toggle("hidden"),d.value===u.value?fetch("/api/initialSetup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({siteName:o.value,baseURL:c.value,theme:a.value,accountName:i.value,accountMail:s.value,accountPassword:u.value})}).then(function(e){return e.json()}).then(function(e){1==e.success?window.location.pathname="/adm":l.innerText=e.error,console.log(e)}):(l.innerText="Your passwords did not match",e.classList.toggle("disabled"),n.classList.toggle("hidden"),t.classList.toggle("hidden"))})});